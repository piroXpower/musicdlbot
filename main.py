import os
from telethon import TelegramClient, events, utils
from telethon.tl.types import MessageEntityTextUrl
import logging

SESSION_NAME = "your_session_name"
API_ID = '21364355'
API_HASH = "72f11aec1dd3e5764554d477341a3d0b"

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

client = TelegramClient(SESSION_NAME, API_ID, API_HASH)

ALPHABET = {'ğ“', 'ğ“‘', 'ğ“’', 'ğ““', 'ğ“”', 'ğ“•', 'ğ“–', 'ğ“—', 'ğ“˜', 'ğ“š', 'ğ“›', 'ğ“œ', 'ğ“',  'ğ“Ÿ', 'ğ“ ', 'ğ“¡', 'ğ“¢', 'ğ“£', 'ğ“¤',  'ğ“¦', 'ğ“§', 'ğ“¨', 'ğ“©', 'ğ™°', 'ğ™±', 'ğ™²', 'ğ™³', 'ğ™´', 'ğ™µ', 'ğ™¶', 'ğ™·', 'ğ™¸', 'ğ™¹', 'ğ™º', 'ğ™»', 'ğ™¼', 'ğ™½', 'ğ™¿', 'ğš', 'ğš‚', 'ğšƒ', 'ğš„', 'ğš…', 'ğš†', 'ğš‡', 'ğšˆ', 'ğš‰', 'ê‹¬', 'êƒ³', 'ê‰”', 'ê’¯', 'ê‚', 'êŠ°', 'êŒ', 'ê', 'ê’', 'ê’»', 'ê€˜', 'ê’’', 'ê‚µ', 'ê‹Š', 'ê„²', 'ê‰£', 'ê†°', 'ê‹ª', 'ê‡™', 'ê“„', 'ê’¤', 'ê’¦', 'ê…', 'ê‰§', 'êŒ¦', 'ê´â€‹', 'ğ˜¼', 'ğ˜½', 'ğ˜¾', 'ğ˜¿', 'ğ™€', 'ğ™', 'ğ™‚', 'ğ™ƒ', 'ğ™„', 'ğ™…', 'ğ™†', 'ğ™‡', 'ğ™ˆ', 'ğ™‰', 'ğ™Š', 'ğ™‹', 'ğ™Œ', 'ğ™', 'ğ™', 'ğ™', 'ğ™', 'ğ™‘', 'ğ™’', 'ğ™“', 'ğ™”', 'ğ™•', 'â‚³', 'à¸¿', 'â‚µ', 'Ä', 'É†', 'â‚£', 'â‚²', 'â±§', 'â‚­', 'â± ', 'â‚¥', 'â‚¦', 'Ã˜', 'â‚±', 'â‚´', 'â‚®', 'É„', 'â‚©', 'Ó¾', 'É', 'â±«', 'ğ”¸', 'ğ”¹', 'â„‚', 'ğ”»', 'ğ”¼', 'ğ”½', 'ğ”¾', 'â„', 'ğ•€',  'ğ•‚', 'ğ•ƒ', 'ğ•„', 'â„•', 'ğ•†', 'â„™', 'â„', 'ğ•Š', 'ğ•‹', 'ğ•Œ', 'ğ•', 'ğ•', 'ğ•', 'â„¤', 'áˆ', 'áŒŒ', 'áˆ­', 'á‹•', 'á‰¿', 'á‰»', 'áŠ—', 'á‹˜', 'áŒ', 'áŒ‹', 'áŒ•', 'áˆ¨', 'áŒ ', 'áŠ­', 'á‹', 'á‹¨', 'á‹’', 'á‹ª', 'áŠ', 'á•', 'áˆ', 'áˆ€', 'áˆ ', 'áˆ¸', 'áˆƒ', 'áŒŠ', 'É', 'É”', 'Ç', 'ÉŸ', 'Æƒ', 'É¥', 'Ä±', 'É¾', 'Ê', '×Ÿ', 'É¯', 'É¹', 'Ê‡', 'ÊŒ', 'Ê', 'Ê', 'ğŸ„°', 'ğŸ„±', 'ğŸ„²', 'ğŸ„³', 'ğŸ„´', 'ğŸ„µ', 'ğŸ„¶', 'ğŸ„·', 'ğŸ„¸', 'ğŸ„º', 'ğŸ„»', 'ğŸ„¼', 'ğŸ„½', 'ğŸ„¾', 'ğŸ„¿', 'ğŸ…', 'ğŸ…‚', 'ğŸ…ƒ', 'ğŸ…„', 'ğŸ…†', 'ğŸ…‡', 'ğŸ…ˆ', 'ğŸ…‰', 'á´€', 'Ê™', 'á´„', 'á´…', 'á´‡', 'Ò“', 'É¢', 'Êœ', 'Éª', 'á´Š', 'á´‹', 'ÊŸ', 'á´', 'É´', 'ğ•¬', 'ğ•­', 'ğ•®', 'ğ•¯', 'ğ•°', 'ğ•±', 'ğ•²', 'ğ•³', 'ğ•´', 'ğ•µ', 'ğ•¶', 'ğ•·', 'ğ•¸', 'ğ•¹', 'ğ•º', 'ğ•»', 'ğ•¼', 'ğ•½', 'ğ•¾', 'ğ•¿', 'ğ–€', 'ğ–', 'ğ–‚', 'ğ–ƒ', 'ğ–„', 'ğ–…','á´˜', 'Ç«','ğ˜ˆ', 'ğ˜‰', 'ğ˜Š', 'ğ˜‹', 'ğ˜Œ', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜', 'ğ˜’', 'ğ˜“', 'ğ˜”', 'ğ˜•', 'ğ˜–', 'ğ˜—', 'ğ˜™', 'ğ˜š', 'ğ˜›', 'ğ˜œ', 'ğ˜', 'ğ˜Ÿ', 'ğ˜ ', 'ğ˜¡', 'â‚³', 'à¸¿', 'â‚µ', 'Ä', 'É†', 'â‚£', 'â‚²', 'â±§',  'â± ', 'â‚¥', 'â‚¦', 'Ã˜', 'â‚±', 'â±¤', 'â‚´', 'â‚®',  'â‚©', 'Ó¾', 'É', 'â±«', 'â’¶', 'â’·', 'â’¸', 'â’¹', 'â’º', 'â’»', 'â’¼', 'â’½', 'â’¾', 'â“€', 'â“', 'â“‚', 'â“ƒ', 'â“„', 'â“…', 'â“‡', 'â“ˆ', 'â“‰', 'â“Š',  'â“Œ', 'â“', 'â“', 'â“', 'ğ”„', 'ğ”…', 'â„­', 'ğ”‡', 'ğ”ˆ', 'ğ”‰', 'ğ”Š', 'â„Œ', 'â„‘', 'ğ”', 'ğ”', 'ğ”', 'ğ”', 'ğ”‘', 'ğ”’', 'ğ”“', 'ğ””', 'â„œ', 'ğ”–', 'ğ”—', 'ğ”˜', 'ğ”™', 'ğ”š', 'ğ”›', 'ğ”œ', 'â„¨', 'ï¼¡', 'ï¼¢', 'ï¼£', 'ï¼¤', 'ï¼¥', 'ï¼¦', 'ï¼§', 'ï¼¨', 'ï¼©', 'ï¼«', 'ï¼¬', 'ï¼­', 'ï¼®', 'ï¼¯', 'ï¼°', 'ï¼²', 'ï¼³', 'ï¼´', 'ï¼µ',  'ï¼·', 'ï¼¸', 'ï¼¹', 'ï¼º', 'ğŸ…', 'ğŸ…‘', 'ğŸ…’', 'ğŸ…“', 'ğŸ…”', 'ğŸ…•', 'ğŸ…–', 'ğŸ…—', 'ğŸ…˜', 'ğŸ…™', 'ğŸ…š', 'ğŸ…›', 'ğŸ…œ', 'ğŸ…', 'ğŸ…', 'ğŸ…Ÿ', 'ğŸ… ', 'ğŸ…¡', 'ğŸ…¢', 'ğŸ…£', 'ğŸ…¤', 'ğŸ…¥', 'ğŸ…¦', 'ğŸ…§', 'ğŸ…¨', 'ğŸ…©', 'ğŸ…°', 'ğŸ…±', 'ğŸ…²', 'ğŸ…³', 'ğŸ…´', 'ğŸ…µ', 'ğŸ…¶', 'ğŸ…·', 'ğŸ…¸', 'ğŸ…¹', 'ğŸ…º', 'ğŸ…»', 'ğŸ…¼', 'ğŸ…½', 'ğŸ…¾', 'ğŸ…¿', 'ğŸ†€', 'ğŸ†', 'ğŸ†‚', 'ğŸ†ƒ', 'ğŸ†„', 'ğŸ†…', 'ğŸ††', 'ğŸ†‡', 'ğŸ†ˆ', 'ğŸ†‰', 'ğ—”', 'ğ—•', 'ğ—–', 'ğ——', 'ğ—˜', 'ğ—™', 'ğ—š', 'ğ—›', 'ğ—œ', 'ğ—', 'ğ—', 'ğ—Ÿ', 'ğ— ', 'ğ—¡', 'ğ—¢', 'ğ—£', 'ğ—¤', 'ğ—¥', 'ğ—¦', 'ğ—§', 'ğ—¨', 'ğ—©', 'ğ—ª', 'ğ—«', 'ğ—¬', 'ğ—­', 'á¯', 'á°', 'á¨', 'á ', 'á¬', 'á°', 'á¶', 'á»', 'á¨', 'á ', 'á¦', 'á', 'á·', 'á', 'á¾', 'á¢', 'á…', 'á’', 'á•', 'á¿', 'á¬', 'á‰', 'á¯', 'á²', 'á½', 'áƒ', 'ğ€', 'ğ', 'ğ‚', 'ğƒ', 'ğ„', 'ğ…', 'ğ†', 'ğ‡', 'ğˆ', 'ğ‰', 'ğŠ', 'ğ‹', 'ğŒ', 'ğ', 'ğ', 'ğ', 'ğ', 'ğ‘', 'ğ’', 'ğ“', 'ğ”', 'ğ•', 'ğ–', 'ğ—', 'ğ˜', 'ğ™', 'ğŸ‡¦â€Œ', 'ğŸ‡ªâ€Œ','ğŸ‡®','ğŸ‡¦â€ŒğŸ‡±â€ŒğŸ‡±â€ŒğŸ‡ªâ€ŒğŸ‡³â€Œ ğŸ‡¨â€ŒğŸ‡±â€ŒğŸ‡¦â€ŒğŸ‡¸â€ŒğŸ‡¸â€ŒğŸ‡·â€ŒğŸ‡´â€ŒğŸ‡´â€ŒğŸ‡²â€ŒğŸ‡ªâ€ŒğŸ‡¨â€ŒğŸ‡¹â€ŒğŸ‡®â€ŒğŸ‡´â€ŒğŸ‡³â€Œ-ğŸ‡¦â€Œ','ğŸ‡¸â€ŒğŸ‡®â€ŒğŸ‡´â€Œ', 'ğ™–', 'ğ™—', 'ğ™˜', 'ğ™™', 'ğ™š', 'ğ™›', 'ğ™œ', 'ğ™', 'ğ™', 'ğ™Ÿ', 'ğ™ ', 'ğ™¡', 'ğ™¢', 'ğ™£', 'ğ™¤', 'ğ™¥', 'ğ™¦', 'ğ™§', 'ğ™¨', 'ğ™©', 'ğ™ª', 'ğ™«', 'ğ™¬', 'ğ™­', 'ğ™®', 'ğ™¯', 'ğ—®', 'ğ—¯', 'ğ—°', 'ğ—±', 'ğ—²', 'ğ—³', 'ğ—´', 'ğ—µ', 'ğ—¶', 'ğ—·', 'ğ—¸', 'ğ—¹', 'ğ—º', 'ğ—»', 'ğ—¼', 'ğ—½', 'ğ—¾', 'ğ—¿', 'ğ˜€', 'ğ˜', 'ğ˜‚', 'ğ˜ƒ', 'ğ˜„', 'ğ˜…', 'ğ˜†', 'ğ˜‡'}

def contains_font(text):
    # Check if the message contains non-ASCII characters (indicating it's a font)
    return any(char in ALPHABET for char in text)

@client.on(events.NewMessage(chats=events.ChatAction))
async def handle_new_message(event):
    if event.is_group and event.is_text and not event.message.sender_id.bot:
        if contains_font(event.text):
            chat_id = event.message.chat.id
            user_id = event.message.sender_id
            chat_entity = await client.get_entity(chat_id)
            user_entity = await client.get_entity(user_id)
            
            logger.info(f"Font detected in message from {user_entity.username} in chat {chat_entity.title}.")
            
            await event.reply(f"{user_entity.username} sent a font in {chat_entity.title}.")
            await client.delete_messages(chat_id, event.message.id)

client.start()
logger.info('App Started')
client.run_until_disconnected()
